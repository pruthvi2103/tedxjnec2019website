function maxheightimg(){$("img[class*=lazyload], img[class*=lazyloaded]").each(function(){var e=$(this).attr("height")||0,t=$(this).attr("width")||0;e>0&&$(this).attr("style","max-height: calc("+e+"/"+t+"*92vw); height: "+e+"px;")}),$(".display640x400 img, .laptop640x400 img").each(function(){$(this).attr("style","")})}function addclass(e,t){$(e).addClass(t)}function removeclass(e,t){$(e).removeClass(t)}function toggleclass(e,t){$(e).toggleClass(t)}function photoshow(e){document.getElementById("photoviewerimg").src=e,document.getElementById("photoviewer").className="photoviewer-on",document.getElementById("photoviewer").onclick=function(){document.getElementById("photoviewer").className="photoviewer-off"},document.getElementById("photoviewer").ontouchstart=function(){document.getElementById("photoviewer").className="photoviewer-off"}}function contentshow(e){var t=e.innerHTML,o=document.createElement("article");o.id=e.id,o.className=e.className,o.innerHTML=t,$(o).find(".lazyloading").attr({class:"lazyload",src:"images/blank.gif"}),$("#contentholder").html(o),setTimeout(function(){$("#contentviewer").attr("class","contentviewer-on")},100),$("body").addClass("noscroll"),document.getElementById("contentviewer").onclick=function(){$("#contentviewer").attr("class","contentviewer-off"),$("body").removeClass("noscroll")};var n;$("contentviewer").on("touchend",function(){!0!==n&&($("#contentviewer").attr("class","contentviewer-off"),$("#contentholder").html(""),$("body").removeClass("noscroll"))}).on("touchmove",function(){n=!0}).on("touchstart",function(){n=!1}),document.getElementById("contentviewer").ontouchmove=function(e){document.body.clientWidth/window.innerWidth==1&&e.touches.length<2&&($("#contentviewer").attr("class","contentviewer-off"),$("body").removeClass("noscroll"))}}function loadit(e){var t=e.innerHTML;"yeah"===clickedloaditbefore||(t+='<div class="scrollprompt"><div>',clickedloaditbefore="yeah"),$(e).prop("onclick",null),e.className=e.className+" hide",setTimeout(function(){var o=document.createElement("article");o.id=e.id,o.className="lazyloaded openvert",o.innerHTML=t;var n=e.parentNode.parentNode.parentNode;n.parentNode.insertBefore(o,n);var s="#"+e.id;$("html,body").delay(0).animate({scrollTop:$(s).offset().top},600)},600),setTimeout(function(){e.parentNode.removeChild(e)},2e3),setTimeout(function(){$(".scrollprompt").remove()},4500)}function playvid(e){var t=document.getElementById(e);t.src=t.getAttribute("data-src"),$(t).removeClass("visibilityhidden");var o=new Vimeo.Player(t);o.ready().then(function(){o.play(),"ebanking_video"===e&&o.setVolume(0)})}function setCookie(e,t,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var s="expires="+n.toGMTString();document.cookie=e+"="+t+";"+s+";path=/"}function getCookie(e){for(var t=e+"=",o=decodeURIComponent(document.cookie),n=o.split(";"),s=0;s<n.length;s++){for(var i=n[s];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}function loadcontent(e,t,o){$.get("restricted/"+o+".php").done(function(){setCookie("passwordcookie",o,1),$(t).load("restricted/"+o+".php"),$(e).children("img").attr("src","images/design/unlocked.png"),$(e).children("img").attr("data-src","images/design/unlocked.png"),addclass("body","restricteddesign")}).fail(function(){window.alert("Password incorrect")})}function passwordprompt(e,t){var o=window.prompt("Reveal locked content","Password");""!==o&&loadcontent(e,t,o)}function checkCookie(){var e=getCookie("passwordcookie");""!==e&&loadcontent("#lockedscreen","#restricteddesign",e)}var clickedloaditbefore,didScroll=!1;$(window).scroll(function(){didScroll=!0}),setInterval(function(){if(didScroll){didScroll=!1;var e=document.body.scrollTop||document.documentElement.scrollTop,t=document.getElementById("mainheader").offsetHeight;e>=t&&$("body").addClass("fixed"),e<t&&$("body").removeClass("fixed");var o=document.getElementById("showreel").offsetTop-$(window).height()/2,n=o+document.getElementById("showreel").offsetHeight,s=document.getElementById("design").offsetTop-$(window).height()/2,i=s+document.getElementById("design").offsetHeight,c=document.getElementById("illustration").offsetTop-$(window).height()/2,a=c+document.getElementById("illustration").offsetHeight,d=document.getElementById("photography").offsetTop-$(window).height()/2,r=d+document.getElementById("photography").offsetHeight,l=document.getElementById("projects").offsetTop-$(window).height()/2,m=l+document.getElementById("projects").offsetHeight,h=document.getElementById("about").offsetTop-$(window).height()/2,f=h+document.getElementById("about").offsetHeight,g=document.getElementById("contact").offsetTop-$(window).height()/2,u=g+document.getElementById("contact").offsetHeight;e>o&&e<n?$("a[href*=\\#showreel]").addClass("on"):$("a[href*=\\#showreel]").removeClass("on"),e>s&&e<i?$("a[href*=\\#design]").addClass("on"):$("a[href*=\\#design]").removeClass("on"),e>c&&e<a?$("a[href*=\\#illustration]").addClass("on"):$("a[href*=\\#illustration]").removeClass("on"),e>d&&e<r?$("a[href*=\\#photography]").addClass("on"):$("a[href*=\\#photography]").removeClass("on"),e>l&&e<m?$("a[href*=\\#projects]").addClass("on"):$("a[href*=\\#projects]").removeClass("on"),e>h&&e<f?$("a[href*=\\#about]").addClass("on"):$("a[href*=\\#about]").removeClass("on"),e>g&&e<u?$("a[href*=\\#contact]").addClass("on"):$("a[href*=\\#contact]").removeClass("on")}},100),$("#lockedscreen").click(function(e){if(e.altKey){""!==getCookie("passwordcookie")?window.alert("Unlocked!"):(passwordprompt("#lockedscreen","#restricteddesign"),removeclass(this,"screenoff"))}else toggleclass(this,"screenoff")}),$("#lockedscreen").on("touchstart",{passive:!0},function(e){if(e.touches.length>2){""!==getCookie("passwordcookie")?window.alert("Unlocked!"):(passwordprompt("#lockedscreen","#restricteddesign"),removeclass(this,"screenoff"))}});


$(document).ready(function(){

    $(window).scroll(function(){
      if($(this).scrollTop() > 50){
        $('#topBtn').fadeIn();
      } else{
        $('#topBtn').fadeOut();
      }
    });
  
    $("#topBtn").click(function(){
      $('html ,body').animate({scrollTop : 0},800);
    });
  });